# キミもオリジナルフレームワークを作ってみないか!!

## 1. 概要

2023-07-15～2023-07-17に毎年親しい間柄のITエンジニアで開催している合宿で行ったプレゼンの内容です

## 2. フレームワークの短所!? オリジナルフレームワークを作ろうと思った動機、経緯など

### 2-1. はじめに

本内容はフレームワークを否定するものではありません。私自身フレームワークを推奨しています。が、既存のフレームワークにおける問題点(フレームワークの問題というよりは運用における問題)に対応するにはどうしたらよいのかということを考えたときに、拙い知識ながら作ってみたくなったのでw

### 2-2. フレームワークのデメリット(!?)

* お作法(習得までに時間がかかるなど) → 本内容では関係ない部分  
* 単純にフレームワークをアップデートだけしてもうまく動かない場合がある(記述の変更など)  
例) Laravelだと8以降ルーティングの記述が変更されるなど(この程度ならいいのですが…)
* 望む機能がない(そもそも選定時に分かるはずなので、このケースはほぼない)  
* フレームワーク自体のバグ、脆弱性あるいは余計なお世話など(分かっていても手を出せないケースがほとんど)

### 2-3. 予算の問題

ハードウェアやクラウドのリプレースはモノがなければ動かないことが容易に想像しやすいため稟議が通りやすいが、ミドルウェアやフレームワークのバージョンアップにおける調整等がそもそも考慮されていない(予算取りされていない)ケース  
→ ソフトウェアにまで予算なんか取れないとかいう謎のパワーワードw  
上記のような案件には手を出さないという方には関係のない内容ですw

## 3. 今回作成したフレームワーク(っぽいもの)

### 3-1. 前提として

作成したフレームワークに対しての議論をするつもりはありません。プレゼンをする前提で作成しており、自由に書けるということを意識していただくために敢えて不自然な書き方にしている部分もありますし、完全なものを作成したかったわけでもないので不十分な箇所もあります  
単にフレームワークを作ってみたというだけでは、具体的なソースもなくイメージも付きづらいのではないかと思ったため、ソースも掲載しています  
そのため、プルリク等送ってこられても対応できませんし、するつもりもありません。あらかじめご了承ください  
そういう方は是非自身でオリジナルのフレームワークを作成してみてください  
そのための叩き台になれば幸いですし、自身でフレームワークを作成してみたいと思っていただくことが目的の1つであるためです  
(7月のプレゼン時にはまだ完成していませんでしたが、公開するにあたり一通り動く(!?)もの程度には手を加えましたが、完全品ではありませんので)

### 3-2. Laravelっぽいフレームワークを作成  

* [ディレクトリ構造](https://readouble.com/laravel/10.x/ja/structure.html)はLaravel準拠(厳密には違うけど)
* bladeやキャッシュの仕組みは無視
* routes/web.phpにルーティング
* ルーティングでapp/Http/Controllers配下のControllerを呼び出し
* LaravelでいうIlluminate相当の部分はcrazy配下に作成
* 自由に書く(書ける)ということを目的とするため、上記以外は特に縛りはなし

### 3-3. ライセンスなど  

[LICENSE](/LICENSE)ファイルをご覧ください(というかMITライセンスです)  
お約束かもしれませんが、このソースを使用して生じたいかなる不具合にも責任を負いません

### 3-4. インストールなど

[インストール方法.md](/インストール方法.md)  
をご覧ください

## 4. オリフレのイイとこ悪いとこ

### 4-1. オリフレのイイとこ

* 作成したフレームワークそのものを把握できる
* アップデートの概念はなし(但し、プログラム言語自体のアップデートは把握の必要あり)
* メンテや拡張も自由にやりやすい

### 4-2. オリフレの悪いとこ

* 既存のフレームワークの知識、知見、経験が必要(これは個人の所感です)
* フレームワークができあがるまでに時間を要してしまうため、本来の開発が遅れがちに…(実際にフレームワーク自体を作成しての開発経験があるわけではないですがおそらく)
* フレームワークを作ることがゴールになりがち(フレームワークを使って本来の目的を果たすことがゴールのはず)
* 一度リリース、次のリプレースを経験するまで良さを感じづらいと思われる

## 5. 完走(!?)した感想

* まずはルーティングとview(に相当するもの)から作成するのがよいかと(アクセスしてまずは見えるものがないとイメージを掴みづらい印象)
* 色んなフレームワークからイイとこ取りというか、あの仕組みはあのフレームワーク~~からパクって~~を参考にすればいいかなとかフレキシブルにできるというか
* 今回はPHPでLaravelっぽいものを作成してみたが、別の言語でも似たようなフレームワークが作れるかなとかそういった知識は活かせるかも
* 余力があれば[クリーンアーキテクチャ](https://nrslib.com/clean-architecture)とかでやるとよさそう
* 色んなフレームワークが今後もどんどん出てくるんじゃなかろうかとは思うので、案件に見合ったものを選択すればいいのかなと(自分はどちらかというと選定側になることはほとんどないのですけど)
